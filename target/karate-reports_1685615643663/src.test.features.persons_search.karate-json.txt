{"failedCount":1,"prefixedPath":"src\/test\/features\/persons_search.feature","packageQualifiedName":"src.test.features.persons_search","loopIndex":-1,"relativePath":"src\/test\/features\/persons_search.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1482792378,"millis":1482.792378,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def tokenQA = callonce read('..\/\/features\/Token.feature')"},"stepLog":"06:28:00.043 << lock released, cached callonce: read('..\/\/features\/Token.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"src\/test\/features\/..\/\/features\/Token.feature","packageQualifiedName":"src.test.features.features.Token","loopIndex":-1,"relativePath":"src\/test\/features\/..\/\/features\/Token.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3285054,"millis":3.285054,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url \"https:\/\/goldmanqa.v3locitydev.com\/api\/v1\""},"stepLog":"06:27:58.754 >> lock acquired, begin callonce: read('..\/\/features\/Token.feature')\n"},{"result":{"nanos":88245896,"millis":88.245896,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def requestBody = read('..\/\/resources\/data\/token_request.json')"}},{"result":{"nanos":24359374,"millis":24.359374,"status":"passed"},"step":{"line":10,"prefix":"Given","index":0,"text":"path \"oauth2\/token\""}},{"result":{"nanos":68814,"millis":0.068814,"status":"passed"},"step":{"line":11,"prefix":"And","index":1,"text":"request requestBody"}},{"result":{"nanos":1137812120,"millis":1137.81212,"status":"passed"},"step":{"line":12,"prefix":"When","index":2,"text":"method Post"},"stepLog":"06:27:59.397 request:\n1 > POST https:\/\/goldmanqa.v3locitydev.com\/api\/v1\/oauth2\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 77\n1 > Host: goldmanqa.v3locitydev.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.8)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"123456\",\"scope\":\"USER\",\"grantType\":\"PASSWORD\",\"username\":\"mary\"}\n\n06:28:00.020 response time in milliseconds: 613\n1 < 200\n1 < Date: Thu, 01 Jun 2023 10:27:59 GMT\n1 < Content-Type: application\/json\n1 < Connection: keep-alive\n1 < Server: Apache\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-XSS-Protection: 1\n1 < Expires: Tue, 03 Jul 2001 06:00:00 GMT\n1 < Cache-Control: no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0, private\n1 < Pragma: no-cache\n1 < Last-Modified: Thu, 01 Jun 2023 10:27:59 GMT\n1 < X-FRAME-OPTIONS: SAMEORIGIN\n1 < X-FRAME-OPTIONS: SAMEORIGIN\n1 < X-V3-APP: 995bc541-3abe-4ff8-aa53-5b7c1b28274a\n1 < Content-Security-Policy: script-src 'self' 'unsafe-inline' 'unsafe-eval'; options inline-script eval-script; xhr-src 'self'; form-action 'self' ; connect-src 'self'; reflected-xss block\n1 < Vary: Accept-Encoding\n1 < Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n1 < Set-Cookie: AWSALB=SBP18pFkdOVJhzxbtASBwRDNtXt3meqX1cL\/YI\/aCtjhtdXC+oaZWnRgIDqAlA1zeR7huZZPpPUaN1Jfdtw0EYoboKz3l5KJ3hBJzJ+FWIF7w5c17dttIKXFSGNZ; Max-Age=1686220079000; Expires=Sat, 08 Aug 55457 12:51:20 GMT; Domain=goldmanqa.v3locitydev.com\n1 < Set-Cookie: AWSALBCORS=SBP18pFkdOVJhzxbtASBwRDNtXt3meqX1cL\/YI\/aCtjhtdXC+oaZWnRgIDqAlA1zeR7huZZPpPUaN1Jfdtw0EYoboKz3l5KJ3hBJzJ+FWIF7w5c17dttIKXFSGNZ; Max-Age=1686220079000; Expires=Sat, 08 Aug 55457 12:51:20 GMT; Domain=goldmanqa.v3locitydev.com; Secure\n{\"expiresIn\":1440,\"eulaRequired\":true,\"roles\":{\"items\":[{\"insertedDate\":\"1664424000000\",\"securityDepartmentRoleId\":\"1538\",\"securityUserId\":\"122980\",\"id\":\"13024\",\"priority\":\"1\",\"applicationId\":\"1003\",\"securityRole\":{\"code\":\"Executive Approver\",\"entityName\":\"SECURITY_ROLE\",\"name\":\"Executive Approver\",\"location\":\"\\\/v1\\\/metadata\\\/securityRoles\\\/Executive Approver\",\"id\":\"1820\"},\"applicationName\":\"Core Admin\",\"securityDepartmentRole\":\"Executive Approver - All Users\"},{\"insertedDate\":\"1393563600000\",\"securityDepartmentRoleId\":\"188\",\"securityUserId\":\"122980\",\"id\":\"12210\",\"priority\":\"2\",\"applicationId\":\"1003\",\"securityRole\":{\"code\":\"_LOB_USER\",\"entityName\":\"SECURITY_ROLE\",\"name\":\"LOB User\",\"location\":\"\\\/v1\\\/metadata\\\/securityRoles\\\/_LOB_USER\",\"id\":\"8\"},\"applicationName\":\"Core Admin\",\"securityDepartmentRole\":\"LOB User - All Users\"}],\"totalRecordsCount\":2},\"language\":\"en\",\"lastLoginDate\":\"1685614876456\",\"individualId\":\"428531\",\"serverTimeZone\":\"America\\\/New_York\",\"tokenType\":\"BEARER\",\"passwordResetRequired\":false,\"token\":\"6b8e3163-214b-45ef-81f9-b78b2c63d4a7\",\"refreshToken\":\"18f10d87-190e-460c-9e09-34d892a6faa8\",\"username\":\"MARY\"}\n"},{"result":{"nanos":30721,"millis":0.030721,"status":"passed"},"step":{"line":13,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":16497772,"millis":16.497772,"status":"passed"},"step":{"line":14,"prefix":"And","index":4,"text":"print response"},"stepLog":"06:28:00.040 [print] {\n  \"expiresIn\": 1440,\n  \"eulaRequired\": true,\n  \"roles\": {\n    \"items\": [\n      {\n        \"insertedDate\": \"1664424000000\",\n        \"securityDepartmentRoleId\": \"1538\",\n        \"securityUserId\": \"122980\",\n        \"id\": \"13024\",\n        \"priority\": \"1\",\n        \"applicationId\": \"1003\",\n        \"securityRole\": {\n          \"code\": \"Executive Approver\",\n          \"entityName\": \"SECURITY_ROLE\",\n          \"name\": \"Executive Approver\",\n          \"location\": \"\/v1\/metadata\/securityRoles\/Executive Approver\",\n          \"id\": \"1820\"\n        },\n        \"applicationName\": \"Core Admin\",\n        \"securityDepartmentRole\": \"Executive Approver - All Users\"\n      },\n      {\n        \"insertedDate\": \"1393563600000\",\n        \"securityDepartmentRoleId\": \"188\",\n        \"securityUserId\": \"122980\",\n        \"id\": \"12210\",\n        \"priority\": \"2\",\n        \"applicationId\": \"1003\",\n        \"securityRole\": {\n          \"code\": \"_LOB_USER\",\n          \"entityName\": \"SECURITY_ROLE\",\n          \"name\": \"LOB User\",\n          \"location\": \"\/v1\/metadata\/securityRoles\/_LOB_USER\",\n          \"id\": \"8\"\n        },\n        \"applicationName\": \"Core Admin\",\n        \"securityDepartmentRole\": \"LOB User - All Users\"\n      }\n    ],\n    \"totalRecordsCount\": 2\n  },\n  \"language\": \"en\",\n  \"lastLoginDate\": \"1685614876456\",\n  \"individualId\": \"428531\",\n  \"serverTimeZone\": \"America\/New_York\",\n  \"tokenType\": \"BEARER\",\n  \"passwordResetRequired\": false,\n  \"token\": \"6b8e3163-214b-45ef-81f9-b78b2c63d4a7\",\n  \"refreshToken\": \"18f10d87-190e-460c-9e09-34d892a6faa8\",\n  \"username\": \"MARY\"\n}\n \n"}],"executorName":"main","line":8,"name":"Application authorization token","description":"","durationMillis":1270.299751,"startTime":1685615278767,"failed":false,"refId":"[1:8]","endTime":1685615280041,"exampleIndex":-1}],"callDepth":1,"name":"Authorization Token creation","description":"","resultDate":"2023-06-01 06:28:00 AM","durationMillis":1270.299751,"passedCount":1}]},{"result":{"nanos":780303,"millis":0.780303,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header token = tokenQA"}},{"result":{"nanos":668890,"millis":0.66889,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"url \"https:\/\/goldmanqavil.v3locitydev.com\/api\/v1\/queries\""}},{"result":{"nanos":563211,"millis":0.563211,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header content-type = \"application\/json\""}},{"result":{"nanos":613593,"millis":0.613593,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"path \"persons\/search\""}},{"result":{"nanos":2056231,"millis":2.056231,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"def requestBodySearch = read('..\/\/resources\/data\/persons\/person_search.json')"}},{"result":{"nanos":1493430,"millis":1.49343,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"print requestBodySearch"},"stepLog":"06:28:00.050 [print] {\n  \"personId\": [\n    188250\n  ],\n  \"repCode\": [\n  ],\n  \"firstNameContains\": \"\",\n  \"lastNameContains\": \"\",\n  \"managerId\": [\n  ],\n  \"companyId\": [\n  ],\n  \"investorEntityId\": [\n  ]\n}\n \n"},{"result":{"nanos":13516,"millis":0.013516,"status":"passed"},"step":{"comments":["#And set requestBodySearch.personId = personIds"],"line":19,"prefix":"And","index":3,"text":"request requestBodySearch"}},{"result":{"nanos":385079628,"millis":385.079628,"status":"passed"},"step":{"line":20,"prefix":"When","index":4,"text":"method Post"},"stepLog":"06:28:00.053 request:\n1 > POST https:\/\/goldmanqavil.v3locitydev.com\/api\/v1\/queries\/persons\/search\n1 > token: {\"responseHeaders\":{\"Date\":[\"Thu, 01 Jun 2023 10:27:59 GMT\"],\"Content-Type\":[\"application\\\/json\"],\"Connection\":[\"keep-alive\"],\"Server\":[\"Apache\"],\"X-Frame-Options\":[\"SAMEORIGIN\",\"SAMEORIGIN\"],\"X-Content-Type-Options\":[\"nosniff\"],\"X-XSS-Protection\":[\"1; mode=block\",\"1\"],\"Expires\":[\"Tue, 03 Jul 2001 06:00:00 GMT\"],\"Cache-Control\":[\"no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0, private\"],\"Pragma\":[\"no-cache\"],\"Last-Modified\":[\"Thu, 01 Jun 2023 10:27:59 GMT\"],\"X-FRAME-OPTIONS\":[\"SAMEORIGIN\",\"SAMEORIGIN\"],\"X-V3-APP\":[\"995bc541-3abe-4ff8-aa53-5b7c1b28274a\"],\"Content-Security-Policy\":[\"script-src 'self' 'unsafe-inline' 'unsafe-eval'; options inline-script eval-script; xhr-src 'self'; form-action 'self' ; connect-src 'self'; reflected-xss block\"],\"Vary\":[\"Accept-Encoding\"],\"Strict-Transport-Security\":[\"max-age=31536000; includeSubDomains; preload\"],\"Set-Cookie\":[\"AWSALB=SBP18pFkdOVJhzxbtASBwRDNtXt3meqX1cL\\\/YI\\\/aCtjhtdXC+oaZWnRgIDqAlA1zeR7huZZPpPUaN1Jfdtw0EYoboKz3l5KJ3hBJzJ+FWIF7w5c17dttIKXFSGNZ; Max-Age=1686220079000; Expires=Sat, 08 Aug 55457 12:51:20 GMT; Domain=goldmanqa.v3locitydev.com\",\"AWSALBCORS=SBP18pFkdOVJhzxbtASBwRDNtXt3meqX1cL\\\/YI\\\/aCtjhtdXC+oaZWnRgIDqAlA1zeR7huZZPpPUaN1Jfdtw0EYoboKz3l5KJ3hBJzJ+FWIF7w5c17dttIKXFSGNZ; Max-Age=1686220079000; Expires=Sat, 08 Aug 55457 12:51:20 GMT; Domain=goldmanqa.v3locitydev.com; Secure\"]},\"responseStatus\":200,\"requestBody\":{\"grantType\":\"PASSWORD\",\"password\":\"123456\",\"scope\":\"USER\",\"username\":\"mary\"},\"response\":{\"expiresIn\":1440,\"eulaRequired\":true,\"roles\":{\"items\":[{\"insertedDate\":\"1664424000000\",\"securityDepartmentRoleId\":\"1538\",\"securityUserId\":\"122980\",\"id\":\"13024\",\"priority\":\"1\",\"applicationId\":\"1003\",\"securityRole\":{\"code\":\"Executive Approver\",\"entityName\":\"SECURITY_ROLE\",\"name\":\"Executive Approver\",\"location\":\"\\\/v1\\\/metadata\\\/securityRoles\\\/Executive Approver\",\"id\":\"1820\"},\"applicationName\":\"Core Admin\",\"securityDepartmentRole\":\"Executive Approver - All Users\"},{\"insertedDate\":\"1393563600000\",\"securityDepartmentRoleId\":\"188\",\"securityUserId\":\"122980\",\"id\":\"12210\",\"priority\":\"2\",\"applicationId\":\"1003\",\"securityRole\":{\"code\":\"_LOB_USER\",\"entityName\":\"SECURITY_ROLE\",\"name\":\"LOB User\",\"location\":\"\\\/v1\\\/metadata\\\/securityRoles\\\/_LOB_USER\",\"id\":\"8\"},\"applicationName\":\"Core Admin\",\"securityDepartmentRole\":\"LOB User - All Users\"}],\"totalRecordsCount\":2},\"language\":\"en\",\"lastLoginDate\":\"1685614876456\",\"individualId\":\"428531\",\"serverTimeZone\":\"America\\\/New_York\",\"tokenType\":\"BEARER\",\"passwordResetRequired\":false,\"token\":\"6b8e3163-214b-45ef-81f9-b78b2c63d4a7\",\"refreshToken\":\"18f10d87-190e-460c-9e09-34d892a6faa8\",\"username\":\"MARY\"}}\n1 > content-type: application\/json; charset=UTF-8\n1 > Content-Length: 131\n1 > Host: goldmanqavil.v3locitydev.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.8)\n1 > Accept-Encoding: gzip,deflate\n{\"repCode\":[],\"investorEntityId\":[],\"lastNameContains\":\"\",\"companyId\":[],\"firstNameContains\":\"\",\"personId\":[188250],\"managerId\":[]}\n\n06:28:00.434 response time in milliseconds: 381\n1 < 200\n1 < Date: Thu, 01 Jun 2023 10:28:00 GMT\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Server: Apache\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n1 < Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; options inline-script eval-script; xhr-src 'self'; object-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' 'unsafe-inline' data: blob:; form-action 'self'; font-src 'self'; connect-src 'self'; plugin-types application\/pdf application\/x-shockwave-flash; reflected-xss block\n\n"},{"result":{"nanos":14747,"millis":0.014747,"status":"passed"},"step":{"line":21,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1209162,"millis":1.209162,"status":"passed"},"step":{"line":22,"prefix":"And","index":6,"text":"print response"},"stepLog":"06:28:00.437 [print]  \n"},{"result":{"nanos":33763149,"errorMessage":">>>> js failed:\n01: response[0].personId\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"personId\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/features\/persons_search.feature:23","millis":33.763149,"status":"failed"},"step":{"line":23,"prefix":"And","index":7,"text":"def personId = response[0].personId"},"stepLog":"06:28:00.472 src\/test\/features\/persons_search.feature:23\nAnd def personId = response[0].personId\n>>>> js failed:\n01: response[0].personId\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"personId\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/features\/persons_search.feature:23\n"}],"line":14,"description":"","durationMillis":1909.048238,"failed":true,"error":">>>> js failed:\n01: response[0].personId\n<<<<\norg.graalvm.polyglot.PolyglotException: TypeError: Cannot read property \"personId\" from undefined\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/features\/persons_search.feature:23","executorName":"main","name":"search the Person data.","startTime":1685615278540,"refId":"[1:14]","endTime":1685615280472,"exampleIndex":-1}],"callDepth":0,"name":"Persons Crud operations","description":"","resultDate":"2023-06-01 06:28:00 AM","durationMillis":1909.048238,"passedCount":0}